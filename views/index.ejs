<!DOCTYPE html>
<html>
  <head>
    <%- include('./partials/head.ejs'); %>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-2"><%- include('./partials/sidebar.ejs') %></div>
        <div class="col-sm-10">
          <h1><%= title %></h1>
          <p>
            Welcome to <em>LocalLibrary</em>, a very basic Express website
            developed as a tutorial example on MDN
          </p>
          <h1>Dynamic Content</h1>
          <% if(error){ %>
          <p>Error getting dynamic content</p>
          <% } else{ %>
          <p>The library has the following record counts:</p>
          <ul>
            <li><strong>Books:</strong><%= ` ${data.book_count}` %></li>
            <li>
              <strong>Copies:</strong><%= ` ${data.book_instance_count}` %>
            </li>
            <li>
              <strong>Copies Available:</strong><%= `
              ${data.book_instance_available_count}` %>
            </li>
            <li><strong>Authors:</strong><%= ` ${data.author_count}` %></li>
            <li><strong>Genres:</strong><%= ` ${data.genre_count}` %></li>
          </ul>
          <% } %>
        </div>
      </div>
    </div>
  </body>
</html>
